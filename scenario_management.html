<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>场景管理 - 东海AI Agent动态攻防推演靶场平台</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container container-full-width">
        <header class="header">
            <div class="logo"><strong>东海AI Agent靶场</strong></div>
            <div class="breadcrumbs">场景管理</div>
            <div class="user-info">
                <span>🔍</span>
                <span>❔</span>
                <span>🔔</span>
                <div class="user-profile">
                    <span class="avatar"></span>
                    <span class="username">admin</span>
                </div>
            </div>
        </header>
        <div class="main-container">
            <nav class="sidebar">
                 <ul>
                    <li><a href="monitoring.html">📖 监控面板</a></li>
                    <li class="has-submenu"><a href="training.html">🎓 实训教学</a></li>
                    <li class="has-submenu"><a href="individual_training.html">🎯 单兵训练</a></li>
                    <li class="has-submenu"><a href="competition.html">⚔️ 攻防竞技</a></li>
                    <li class="has-submenu"><a href="red_vs_blue.html">🛡️ 红蓝对抗</a></li>
                    <li class="has-submenu"><a href="target_management.html">🕹️ 靶标管理</a></li>
                    <li class="active"><a href="scenario_management.html">🌐 场景管理</a></li>
                    <li><a href="index.html">🎨 场景绘制</a></li>
                    <li><a href="scenario_monitoring.html">📈 场景监控</a></li>
                    <li><a href="probe_management.html">📡 探针管理</a></li>
                    <li><a href="system_management.html">⚙️ 系统管理</a></li>
                    <li><a href="system_log.html">📄 系统日志</a></li>
                </ul>
            </nav>
            <div class="content-panel">
                <div class="content-body" style="padding: 20px;">
                    <div class="page-stats-summary" style="display: flex; gap: 20px; margin-bottom: 20px;">
                        <div class="stat-card" style="flex-grow: 1; background-color: #f9f9f9; border: 1px solid #e8e8e8; border-radius: 4px; padding: 15px;">
                            <div style="font-size: 14px; color: #888;">场景总数</div>
                            <div style="font-size: 24px; font-weight: bold; color: #333;">28</div>
                        </div>
                        <div class="stat-card" style="flex-grow: 1; background-color: #f9f9f9; border: 1px solid #e8e8e8; border-radius: 4px; padding: 15px;">
                            <div style="font-size: 14px; color: #888;">运行中</div>
                            <div style="font-size: 24px; font-weight: bold; color: #52c41a;">2</div>
                        </div>
                        <div class="stat-card" style="flex-grow: 1; background-color: #f9f9f9; border: 1px solid #e8e8e8; border-radius: 4px; padding: 15px;">
                            <div style="font-size: 14px; color: #888;">模板</div>
                            <div style="font-size: 24px; font-weight: bold; color: #1890ff;">4</div>
                        </div>
                        <div class="stat-card" style="flex-grow: 1; background-color: #f9f9f9; border: 1px solid #e8e8e8; border-radius: 4px; padding: 15px;">
                            <div style="font-size: 14px; color: #888;">异常</div>
                            <div style="font-size: 24px; font-weight: bold; color: #f5222d;">1</div>
                        </div>
                    </div>
                    <div class="page-header" style="margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                        <h1>场景列表</h1>
                        <div class="header-actions" style="display: flex; gap: 10px; align-items: center;">
                            <select class="filter-select">
                                <option value="">所有状态</option>
                                <option value="running">运行中</option>
                                <option value="deployed">已部署</option>
                                <option value="stopped">未部署</option>
                                <option value="template">模板</option>
                                <option value="archived">已归档</option>
                                <option value="error">异常</option>
                            </select>
                            <input type="text" placeholder="搜索场景名称..." class="search-input">
                            <button class="btn btn-primary" id="create-scenario-btn">新建场景</button>
                        </div>
                    </div>
                    <div class="widget">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th style="width: 25%;">场景名称</th>
                                        <th style="width: 15%;">创建者</th>
                                        <th style="width: 20%;">创建时间</th>
                                        <th style="width: 20%;">最后修改时间</th>
                                        <th style="width: 10%;">状态</th>
                                        <th style="width: 10%;">操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>金融核心交易网络APT攻击模拟</td>
                                        <td>red_team_lead</td>
                                        <td>2024-05-10 10:30:00</td>
                                        <td>2024-05-20 11:00:00</td>
                                        <td><span class="status status-running">运行中</span></td>
                                        <td><a href="#" class="action-link">监控</a> <a href="#" class="action-link action-danger">停止</a></td>
                                    </tr>
                                    <tr>
                                        <td>电力SCADA仿真网络勒索演练</td>
                                        <td>admin</td>
                                        <td>2024-04-22 15:00:00</td>
                                        <td>2024-05-15 09:45:00</td>
                                        <td><span class="status status-running">运行中</span></td>
                                        <td><a href="#" class="action-link">监控</a> <a href="#" class="action-link action-danger">停止</a></td>
                                    </tr>
                                    <tr>
                                        <td>[模板] 通用企业内网渗透</td>
                                        <td>system</td>
                                        <td>2023-08-01 11:00:00</td>
                                        <td>2023-08-01 11:00:00</td>
                                        <td><span class="status status-template">模板</span></td>
                                        <td><a href="#" class="action-link">从此创建</a></td>
                                    </tr>
                                    <tr>
                                        <td>Web应用专项攻防 (Log4Shell)</td>
                                        <td>user01</td>
                                        <td>2023-11-01 18:00:00</td>
                                        <td>2023-11-02 10:00:00</td>
                                        <td><span class="status status-stopped">未部署</span></td>
                                        <td><a href="#" class="action-link">部署</a> <a href="#" class="action-link action-danger">删除</a></td>
                                    </tr>
                                     <tr>
                                        <td>云环境配置错误利用场景</td>
                                        <td>cloud_sec_eng</td>
                                        <td>2024-03-15 14:20:00</td>
                                        <td>2024-03-25 16:00:00</td>
                                        <td><span class="status status-deployed">已部署</span></td>
                                        <td><a href="#" class="action-link">编辑</a> <a href="#" class="action-link">运行</a></td>
                                    </tr>
                                    <tr>
                                        <td>内部威胁数据窃取追踪</td>
                                        <td>soc_analyst</td>
                                        <td>2024-02-18 09:00:00</td>
                                        <td>2024-02-18 17:30:00</td>
                                        <td><span class="status status-archived">已归档</span></td>
                                        <td><a href="#" class="action-link">查看报告</a></td>
                                    </tr>
                                    <tr>
                                        <td>[草稿] 新员工安全意识培训</td>
                                        <td>hr_dept</td>
                                        <td>2024-05-21 16:00:00</td>
                                        <td>2024-05-21 16:05:00</td>
                                        <td><span class="status status-draft">草稿</span></td>
                                        <td><a href="#" class="action-link">编辑</a> <a href="#" class="action-link action-danger">删除</a></td>
                                    </tr>
                                    <tr>
                                        <td>邮件钓鱼攻击演练 (Q2 2024)</td>
                                        <td>admin</td>
                                        <td>2024-04-01 10:00:00</td>
                                        <td>2024-04-10 11:00:00</td>
                                        <td><span class="status status-archived">已归档</span></td>
                                        <td><a href="#" class="action-link">查看报告</a></td>
                                    </tr>
                                    <tr>
                                        <td>[模板] 勒索软件横向移动</td>
                                        <td>system</td>
                                        <td>2023-09-05 12:00:00</td>
                                        <td>2023-09-05 12:00:00</td>
                                        <td><span class="status status-template">模板</span></td>
                                        <td><a href="#" class="action-link">从此创建</a></td>
                                    </tr>
                                    <tr>
                                        <td>数据库注入专项练习</td>
                                        <td>dba_team</td>
                                        <td>2024-01-20 13:00:00</td>
                                        <td>2024-01-20 13:00:00</td>
                                        <td><span class="status status-error">部署异常</span></td>
                                        <td><a href="#" class="action-link">查看日志</a> <a href="#" class="action-link action-danger">删除</a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination-container" style="display: flex; justify-content: flex-end; align-items: center; padding: 15px 0;">
                            <span style="font-size: 14px; margin-right: 15px;">共 28 条</span>
                            <div class="pagination">
                                <button class="btn">«</button>
                                <button class="btn btn-primary">1</button>
                                <button class="btn">2</button>
                                <button class="btn">3</button>
                                <button class="btn">»</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Chat Modal -->
    <div id="ai-chat-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>AI 场景生成器</h2>
                <button id="close-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="api-key-section">
                    <label for="api-key-input">DeepSeek API Key:</label>
                    <input type="password" id="api-key-input" placeholder="请在此处输入您的 API Key...">
                    <small>密钥仅在当前会话使用，关闭窗口后将清除。</small>
                </div>
                <div id="chat-container" class="chat-container">
                    <!-- Chat messages will be appended here -->
                    <div class="chat-message assistant">
                        <p>你好！请描述一下您想创建什么样的攻防场景？例如，您可以说：“创建一个关于Web渗透的场景，目标是获取服务器的root权限。”</p>
                    </div>
                </div>
                <div class="chat-input-section">
                    <textarea id="chat-input" placeholder="输入您的需求..."></textarea>
                    <button id="send-chat-btn" class="btn btn-primary">发送</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>
</html> 